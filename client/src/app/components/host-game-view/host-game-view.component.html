<app-nav-bar></app-nav-bar>

<main>
    <mat-grid-list cols="4" rowHeight="30vh">
        <mat-grid-tile [colspan]="3" [rowspan]="1">
            <div id="grid-container">
                <section id="question-container">
                    <mat-card *ngIf="currentQuestion">
                        <mat-card-header>
                            <mat-card-title>
                                <h2>Question en cours</h2>
                            </mat-card-title>
                            <mat-card-subtitle>
                                <h3>{{ this.currentQuestion.text }}</h3>
                            </mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-actions align="end">
                            <button mat-button [disabled]="true">
                                <h4>{{ this.currentQuestion.points }} points.</h4>
                            </button>
                            <br />
                            <button mat-button [disabled]="true">
                                <h4>{{ time }}s</h4>
                            </button>
                        </mat-card-actions>
                    </mat-card>
                    <mat-card-actions align="end">
                        <button mat-button>
                            <h3 class="pause-button">Pause Compteur</h3>
                        </button>
                        <button mat-button>
                            <h3 class="panic-button">Mode Panique</h3>
                        </button>
                        <button *ngIf="!onLastQuestion" mat-button (click)="notifyNextQuestion()" class="confirm-button">
                            <h3 class="confirm-text">prochaine question</h3>
                        </button>
                        <button *ngIf="onLastQuestion" mat-button (click)="notifyEndGame()" class="confirm-button">
                            <h3 class="confirm-text">Terminer le jeu</h3>
                        </button>
                    </mat-card-actions>
                </section>
            </div>
        </mat-grid-tile>

        <mat-grid-tile [colspan]="1" [rowspan]="3">
            <app-sidebar> </app-sidebar>
        </mat-grid-tile>

        <mat-grid-tile [colspan]="3" [rowspan]="1">
            <app-player-list *ngIf="displayPlayerList" [players]="players"></app-player-list>
        </mat-grid-tile>

        <mat-grid-tile [colspan]="2" [rowspan]="1">
            <ng-container *ngIf="statisticsData.length > 0 && statisticsData[questionIndex] && currentQuestion">
                <app-bar-chart [labels]="currentQuestion.text" [datasets]="barChartData"></app-bar-chart>
            </ng-container>
        </mat-grid-tile>
    </mat-grid-list>
</main>

<app-countdown-modal [showModal]="showCountDown" (modalClosed)="onCountDownModalClosed()" [countdown]="5"></app-countdown-modal>

<form [formGroup]="questionForm" (ngSubmit)="onSubmit()">
    <select formControlName="type">
        <option value="QCM">QCM</option>
        <option value="QRL">QRL</option>
    </select>

    <input type="text" formControlName="text" placeholder="Question" />
    <input type="number" formControlName="points" placeholder="Points" />

    <div *ngIf="questionForm.get('type')?.value === 'QCM'" formGroupName="choices">
        <div *ngFor="let choice of choices.controls; let i = index" [formGroupName]="i">
            <input type="text" formControlName="text" placeholder="Choice Text" />
            <label for="isCorrect">Bonne r√©ponse</label>
            <input type="checkbox" formControlName="isCorrect" />
            <button type="button" (click)="removeChoice(i)">Remove</button>
        </div>
        <button type="button" (click)="addChoice()" [disabled]="choices.length >= 4">Ajouter un choix</button>
    </div>

    <div *ngIf="questionForm.get('type')?.value === 'QRL'">
        <input type="text" formControlName="answer" placeholder="Answer" />
    </div>

    <button type="submit" [disabled]="!questionForm.valid || (questionForm.get('type')?.value === 'QCM' && choices.length <= 0)">Confirmer</button>
</form>
